<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MegaMart</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="Group 2.png" type="image/png">
    <script src="https://unpkg.com/flowbite@1.5.1/dist/flowbite.js"></script>
    <style>
        @keyframes fade-in {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fade-out {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(8px); }
        }

        @keyframes pop-in {
            0% { opacity: 0; transform: scale(0.95); }
            50% { opacity: 0.5; transform: scale(1.02); }
            100% { opacity: 1; transform: scale(1); }
        }

        .animate-fade-in { animation: fade-in 0.3s cubic-bezier(0.2, 0, 0.1, 1) forwards; }
        .animate-fade-out { animation: fade-out 0.25s cubic-bezier(0.4, 0, 0.6, 1) forwards; }
        .animate-pop-in { animation: pop-in 0.35s cubic-bezier(0.2, 0.8, 0.4, 1.2) forwards; }
    </style>
</head>
<body>
   
    <header>
        <div class="w-full bg-gray-100 py-2 px-5 sm:px-6">
            <div class="max-w-screen-xl mx-auto flex flex-col sm:flex-row justify-between items-center py-2 px-4 sm:px-6">
                <!-- Welcome Message - Full width on mobile, left-aligned on desktop -->
                <span class="text-stone-500 font-normal font-['HK_Grotesk'] text-sm sm:text-base mb-2 sm:mb-0">
                    Welcome to Worldwide Megamart!
                </span>

                <!-- Navigation Items - Stacks on mobile, inline on desktop -->
                <div class="flex items-center flex-wrap justify-center sm:justify-end gap-x-4 gap-y-2">
                    <!-- Delivery Location -->
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            class="w-4 sm:w-5 h-4 sm:h-5 text-blue-500 stroke-[1.5]">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM12 11.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" />
                        </svg>
                        <div class="text-xs sm:text-sm text-gray-600">
                            <span class="font-normal">Deliver to </span>
                            <span class="font-semibold">423651</span>
                        </div>
                    </div>

                    <!-- Vertical Divider - Hidden on mobile -->
                    <div class="hidden sm:block w-px h-6 bg-zinc-300"></div>

                    <!-- Track Order -->
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                            class="w-4 sm:w-5 h-4 sm:h-5 stroke-blue-500 stroke-[1.5]">
                            <path d="M3 7h13v10H3z" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M16 7h3l2 4v6h-5V7z" stroke-linecap="round" stroke-linejoin="round" />
                            <circle cx="7.5" cy="18.5" r="1.5" />
                            <circle cx="17.5" cy="18.5" r="1.5" />
                        </svg>
                        <div class="text-xs sm:text-sm text-gray-600">
                            <span class="font-normal">Track order</span>
                        </div>
                    </div>

                    <!-- Vertical Divider - Hidden on mobile -->
                    <div class="hidden sm:block w-px h-6 bg-zinc-300"></div>

                    <!-- All Offers -->
                    <div class="flex items-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                            class="w-5 sm:w-6 h-5 sm:h-6 stroke-blue-500 stroke-[1] mt-1">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 14l6-6" />
                            <circle cx="10.5" cy="8.5" r="1" fill="none" />
                            <circle cx="14.5" cy="13.5" r="1" fill="none" />
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M19 14V6a2 2 0 00-2-2H7a2 2 0 00-2 2v8a2 2 0 002 2h10a2 2 0 002-2z" />
                        </svg>
                        <div class="text-xs sm:text-sm text-gray-600">
                            <span class="font-normal">All Offers</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>
    
    <nav>
        <div class="h-full bg-white">
            <div class="container mx-auto px-2 py-3 flex flex-col md:flex-row items-center justify-between gap-2">
                <!-- Logo -->
                <div class="flex-shrink-0">
                    <a href="index.html" class="flex items-center gap-2 h-12">
                        <img src="Group 2.png" alt="Ecommerce Logo" class="h-15 w-auto object-contain" />
                        <h1 class="text-blue-400 font-bold text-2xl sm:text-3xl lg:text-4xl">MegaMart</h1>
                    </a>
                </div>
              
                <!-- Search Bar -->
                <div class="container mx-auto px-5 py-3">
                    <div class="flex justify-center">
                        <div class="w-full max-w-xl">
                            <div class="flex border border-blue-400 rounded-md overflow-hidden bg-white shadow-sm">
                                <!-- Search Input -->
                                <input 
                                    id="search-input"
                                    type="text" 
                                    placeholder="Search essentials, groceries, and more" 
                                    class="flex-grow h-10 px-4 border-none text-gray-700 focus:outline-none focus:ring-1 focus:ring-blue-300"
                                >
                                
                                <!-- Search Icon Button -->
                                <button 
                                    id="search-btn" 
                                    type="button" 
                                    class="px-4 py-2 bg-blue-500 text-white hover:bg-blue-600 transition-colors flex items-center justify-center"
                                    title="Search"
                                >
                                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="w-5 h-5 mr-1">
                                        <circle cx="11" cy="11" r="8"/>
                                        <path d="M21 21l-4.35-4.35"/>
                                    </svg>
                                    <span>Search</span>
                                </button>
                                
                                <!-- Filter Button -->
                                <div class="relative">
                                    <button 
                                        id="filter-btn"
                                        type="button"
                                        class="p-2 flex items-center justify-center text-blue-500 hover:bg-blue-50 transition-colors"
                                        title="Filter"
                                    >
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" class="w-8 h-8">
                                            <circle cx="4" cy="6" r="1" fill="currentColor"/>
                                            <line x1="7" y1="6" x2="20" y2="6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                            <circle cx="4" cy="12" r="1" fill="currentColor"/>
                                            <line x1="7" y1="12" x2="20" y2="12" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                            <circle cx="4" cy="18" r="1" fill="currentColor"/>
                                            <line x1="7" y1="18" x2="20" y2="18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                                        </svg>
                                    </button>
                                    
                                    <!-- Filter Dropdown -->
                                    <div id="filter-dropdown" class="absolute right-0 mt-2 w-64 bg-white rounded-md shadow-lg z-50 hidden animate-fade-in">
                                        <div class="py-2">
                                            <h3 class="px-4 py-2 text-sm font-medium text-gray-700 border-b">Filter by Category</h3>
                                            <div class="max-h-60 overflow-y-auto" id="filter-categories">
                                                <!-- Categories will be populated here -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Navigation Icons -->
                <div class="flex-shrink-0 flex items-center gap-2 md:gap-6">
                    <div class="flex items-center gap-2 cursor-pointer group">
                        <svg class="w-6 h-6 text-sky-600 group-hover:text-blue-700 transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                            <circle cx="12" cy="8" r="3" stroke-width="1.5"/>
                            <path d="M20 21a8 8 0 10-16 0" stroke-width="1.5"/>
                        </svg>
                        <span class="sm:inline text-gray-700 font-medium group-hover:text-blue-700 transition-colors">
                            Sign Up/SignIn
                        </span>
                    </div>
                    <div class="hidden md:block w-px h-6 bg-gray-300"></div>

                    <div class="flex items-center gap-4">
                        <!-- Wishlist Button -->
                        <div class="flex items-center gap-2 group">
                            <button id="wishlist-btn" class="relative flex items-center gap-1">
                                <svg class="w-6 h-6 text-blue-500 group-hover:text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
                                </svg>
                                <span class="hidden sm:inline text-gray-700 group-hover:text-blue-700">Wishlist</span>
                                <span id="wishlist-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                            </button>
                        </div>

                        <!-- Divider -->
                        <div class="w-px h-6 bg-gray-300"></div>

                        <!-- Cart Button -->
                        <div class="flex items-center gap-2 group">
                            <button id="cart-button" class="relative flex items-center gap-1">
                                <svg class="w-6 h-6 text-blue-500 group-hover:text-blue-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path>
                                </svg>
                                <span class="hidden sm:inline text-gray-700 group-hover:text-blue-700">Cart</span>
                                <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <div class="w-full h-0.5 bg-gray-200 hover:bg-blue-700 my-7 flex items-center"></div>
   
    <!-- Scrollable Navigation -->
    <div class="w-full overflow-x-auto">
        <div class="flex items-center justify-center h-full min-w-max px-4 space-x-6">
            <!-- Category Tabs -->
            <div class="max-w-full overflow-x-auto pb-2">
                <div class="flex gap-3 px-3 w-max" id="categoryTabs">
                    <div class="category-tab px-3.5 py-2 bg-slate-100 hover:bg-sky-100 rounded-2xl flex items-center gap-1.5 shrink-0 cursor-pointer"
                        data-category="all">
                        <span class="text-neutral-800 text-sm font-medium font-sans leading-none">All Products</span>
                    </div>
                    
                    <!-- Category tabs will be dynamically populated -->
                </div>
            </div>
        </div>
    </div>
    
    <div class="w-full h-0.5 bg-gray-200 hover:bg-blue-700 my-7"></div>
    
    <!-- Carousel -->
    <div class="flex items-center justify-center bg-white mt-4">
        <div class="w-full max-w-7xl bg-white py-2">
            <div id="controls-carousel" class="relative w-full" data-carousel="static">
                <!-- Carousel wrapper -->
                <div class="relative h-[500px] overflow-hidden">
                    <!-- Item 1 -->
                    <div class="hidden duration-700 ease-in-out h-full" data-carousel-item>
                        <div class="absolute inset-0 flex">
                            <!-- Gradient overlay for text readability -->
                            <div class="absolute inset-0 bg-gradient-to-r from-[#212844] to-transparent z-10"></div>

                            <!-- Text content integrated with background -->
                            <div class="w-full md:w-1/2 flex flex-col justify-center p-8 md:p-16 relative z-20">
                                <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Summer Collection</h3>
                                <p class="text-gray-300 mb-6 text-lg">Discover our new summer arrivals with up to 30%
                                    off on selected items.</p>
                                <button
                                    class="px-8 py-3 bg-blue-600 text-white rounded-lg w-max hover:bg-blue-700 transition text-lg font-medium">
                                    Shop Now
                                </button>
                            </div>

                            <!-- Full background image -->
                            <div class="absolute inset-0 w-full">
                                <img src="https://images.unsplash.com/photo-1492707892479-7bc8d5a4ee93?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1800&q=80"
                                    class="w-full h-full object-cover object-center" alt="Summer Collection">
                            </div>
                        </div>
                    </div>

                    <!-- Item 2 -->
                    <div class="hidden duration-700 ease-in-out h-full" data-carousel-item="active">
                        <div class="absolute inset-0 flex">
                            <div class="absolute inset-0 bg-gradient-to-r from-[#212844] to-transparent z-10"></div>

                            <div class="w-full md:w-1/2 flex flex-col justify-center p-8 md:p-16 relative z-20">
                                <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">Electronics</h3>
                                <p class="text-gray-300 mb-6 text-3xl">Best Deals online on smart watches </p>
                                <p class="text-gray-300 mb-6 text-lg">Up to-80% off</p>
                                <button
                                    class="px-8 py-3 bg-blue-600 text-white rounded-lg w-max hover:bg-blue-700 transition text-lg font-medium">
                                    View Deals
                                </button>
                            </div>

                            <div class="absolute inset-0 w-full">
                                <img src="https://images.unsplash.com/photo-1612817159949-195b6eb9e31a?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
                                    class="w-full h-full object-cover object-center" alt="Winter Essentials">
                            </div>
                        </div>
                    </div>

                    <!-- Item 3 -->
                    <div class="hidden duration-700 ease-in-out h-full" data-carousel-item>
                        <div class="absolute inset-0 flex">
                            <div class="absolute inset-0 bg-gradient-to-r from-[#212844] to-transparent z-10"></div>

                            <div class="w-full md:w-1/2 flex flex-col justify-center p-8 md:p-16 relative z-20">
                                <h3 class="text-3xl md:text-4xl font-bold mb-4 text-white">New Arrivals</h3>
                                <p class="text-gray-300 mb-6 text-lg">Be the first to shop our latest collection of
                                    fashion and accessories.</p>
                                <button
                                    class="px-8 py-3 bg-blue-600 text-white rounded-lg w-max hover:bg-blue-700 transition text-lg font-medium">
                                    Explore
                                </button>
                            </div>

                            <div class="absolute inset-0 w-full">
                                <img src="https://images.unsplash.com/photo-1445205170230-053b83016050?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1800&q=80"
                                    class="w-full h-full object-cover object-center" alt="New Arrivals">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Slider controls -->
                <button type="button"
                    class="absolute top-1/2 -translate-y-1/2 start-3 z-30 flex items-center justify-center h-12 w-12 rounded-full bg-white/30 hover:bg-white/50 focus:outline-none"
                    data-carousel-prev>
                    <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5 1 1 5l4 4" />
                    </svg>
                    <span class="sr-only">Previous</span>
                </button>
                <button type="button"
                    class="absolute top-1/2 -translate-y-1/2 end-4 z-30 flex items-center justify-center h-12 w-12 rounded-full bg-white/30 hover:bg-white/50 focus:outline-none"
                    data-carousel-next>
                    <svg class="w-6 h-6 text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                        viewBox="0 0 6 10">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="m1 9 4-4-4-4" />
                    </svg>
                    <span class="sr-only">Next</span>
                </button>
            </div>
        </div>
    </div>
    
    <!-- Products Section -->
    <div class="container mx-auto px-4 py-8">
        <!-- Heading Section -->
        <div class="max-w-screen-xl mx-auto px-4 sm:px-6 py-2">
            <!-- Heading and View All container -->
            <div class="flex flex-col sm:flex-row justify-between items-center gap-4 mb-8">
                <!-- Heading -->
                <h2 class="text-center sm:text-left">
                    <span class="text-stone-500 text-2xl font-bold font-['HK_Grotesk']">Products </span>
                </h2>
                
                <!-- View All link -->
                <div class="flex items-center gap-1 cursor-pointer group sm:ml-4">
                    <span class="text-neutral-800 text-base font-medium font-['HK_Grotesk']">View All</span>
                    <svg class="w-4 h-4 text-sky-600 group-hover:translate-x-1 transition-transform" 
                        viewBox="0 0 24 24" 
                        fill="none" 
                        xmlns="http://www.w3.org/2000/svg">
                        <path d="M9 6L15 12L9 18" 
                            stroke="currentColor" 
                            stroke-width="2" 
                            stroke-linecap="round" 
                            stroke-linejoin="round"/>
                    </svg>
                </div>
            </div>
            <div class="w-full h-1 bg-gray-200 hover:bg-blue-700 my-7"></div>
        </div>
        
        <div class="category-tab active" data-category="all">
            <main class="container mx-auto px-4 py-8">
                <div id="products" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>
            </main>
        </div>

        <!-- Cart Panel -->
        <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden"></div>
        <div id="cart-panel" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300">
            <div class="p-4 h-full flex flex-col">
                <div class="flex justify-between items-center border-b pb-4">
                    <h3 class="text-xl font-bold">Your Cart</h3>
                    <button id="close-cart" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div id="cart-items" class="flex-1 overflow-y-auto py-4">
                    <!-- Cart items will be inserted here -->
                </div>
                
                <div class="border-t pt-4">
                    <div class="flex justify-between mb-4">
                        <span class="font-bold">Total:</span>
                        <span id="cart-total" class="font-bold">$0.00</span>
                    </div>
                    <button id="checkout-btn" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700 disabled:bg-gray-400" disabled>
                        Checkout
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Wishlist Panel -->
        <div id="wishlist-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden"></div>
        <div id="wishlist-panel" class="fixed top-0 right-0 h-full w-full sm:w-96 bg-white shadow-lg z-50 transform translate-x-full transition-transform duration-300">
            <div class="p-4 h-full flex flex-col">
                <div class="flex justify-between items-center border-b pb-4">
                    <h3 class="text-xl font-bold">Your Wishlist</h3>
                    <button id="close-wishlist" class="text-gray-500 hover:text-gray-700">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                
                <div id="wishlist-items" class="flex-1 overflow-y-auto py-4">
                    <!-- Wishlist items will be inserted here -->
                </div>
            </div>
        </div>
    </div>
   
    <!-- Footer -->
    <footer>
        <div class="w-full bg-sky-600 relative overflow-hidden flex flex-col">
            <!-- Circles in top-right corner -->
            <div class="flex-grow relative">
                <div class="w-[420px] h-[420px] bg-sky-500 rounded-full absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2"></div>
                <div class="w-[550px] h-[550px] rounded-full border-2 border-sky-500 absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2"></div>
            </div>
          
            <!-- Footer Content -->
            <footer class="bg-sky-700 py-8 px-4 text-white">
                <div class="max-w-6xl mx-auto">
                    <!-- Three Column Layout -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8">
                        <!-- Column 1: Contact -->
                        <div>
                            <h3 class="text-4xl font-bold mb-4">MegaMart</h3>
                            <h3 class="text-xl font-bold mb-4 space-y-7">Contact Us</h3>
                            <ul class="space-y-2">
                                <li class="flex items-start gap-2">
                                    <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                                    </svg>
                                    <span>+1 (555) 123-4567</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
                                    </svg>
                                    <span>support@relianceretail.com</span>
                                </li>
                                <li class="flex items-start gap-2">
                                    <svg class="w-5 h-5 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
                                    </svg>
                                    <span>123 Retail Street, Mumbai, India 400001</span>
                                </li>
                            </ul>
                        </div>
              
                        <!-- Column 2: Categories -->
                        <div>
                            <h3 class="text-xl font-bold mb-4">Most popular categories</h3>
                            <div class="w-[230px] h-0.5 bg-gray-200 my-7"></div>
                            <ul class="space-y-2 list-disc pl-5">
                                <li><a href="#" class="hover:underline">Staples</a></li>
                                <li><a href="#" class="hover:underline">Bevarages</a></li>
                                <li><a href="#" class="hover:underline">Personal Care</a></li>
                                <li><a href="#" class="hover:underline">Home Care</a></li>
                                <li><a href="#" class="hover:underline">Baby Care</a></li>
                                <li><a href="#" class="hover:underline">Vegetables and Fruits</a></li>
                                <li><a href="#" class="hover:underline">Snacks and Foods</a></li>
                                <li><a href="#" class="hover:underline">Diary and Bakery</a></li>
                            </ul>
                        </div>
              
                        <!-- Column 3: Customer Services & Newsletter -->
                        <div>
                            <div>
                                <h3 class="text-xl font-bold mb-4">Costumer Services</h3>
                                <div class="w-[230px] h-0.5 bg-gray-200 my-7"></div>
                                <ul class="space-y-2 list-disc pl-5">
                                    <li><a href="#" class="hover:underline">About Us</a></li>
                                    <li><a href="#" class="hover:underline">Term and Conditions</a></li>
                                    <li><a href="#" class="hover:underline">FAQ</a></li>
                                    <li><a href="#" class="hover:underline">Privacy Policy</a></li>
                                    <li><a href="#" class="hover:underline">E-waste Policy</a></li>
                                    <li><a href="#" class="hover:underline">Cancellation and Return Policy</a></li>
                                </ul>
                            </div>
                            <h3 class="text-xl font-bold mb-4">Newsletter</h3>
                            <p class="mb-4">Subscribe for updates and offers</p>
                            <div class="flex">
                                <input type="email" placeholder="Your email" class="px-4 py-2 w-full rounded-l-md text-gray-800 focus:outline-none">
                                <button class="bg-sky-800 hover:bg-sky-900 px-4 py-2 rounded-r-md transition-colors">Subscribe</button>
                            </div>
                        </div>
                    </div>
              
                    <!-- Copyright -->
                    <div class="pt-6 border-t border-sky-600 text-center text-sm">
                        © 2023 All rights reserved. Reliance Retail Ltd.
                    </div>
                </div>
            </footer>
        </div>
    </footer>

    <script>
       // DOM Elements
document.addEventListener("DOMContentLoaded", () => {
    console.log("Search elements:", {
        searchBtn: searchBtn,
        searchInput: searchInput,
        productsContainer: productsContainer
    });
    const productsContainer = document.getElementById("products");
    const cartPanel = document.getElementById("cart-panel");
    const cartOverlay = document.getElementById("cart-overlay");
    const cartBtn = document.getElementById("cart-button");
    const closeCartBtn = document.getElementById("close-cart");
    const cartItemsContainer = document.getElementById("cart-items");
    const cartTotal = document.getElementById("cart-total");
    const checkoutBtn = document.getElementById("checkout-btn");
    const cartCount = document.getElementById("cart-count");
    const searchInput = document.getElementById("search-input");
    const searchBtn = document.getElementById("search-btn");
    const filterBtn = document.getElementById("filter-btn");
    const filterDropdown = document.getElementById("filter-dropdown");
    const filterCategories = document.getElementById("filter-categories");
    const wishlistPanel = document.getElementById("wishlist-panel");
    const wishlistOverlay = document.getElementById("wishlist-overlay");
    const wishlistBtn = document.getElementById("wishlist-btn");
    const closeWishlistBtn = document.getElementById("close-wishlist");
    const wishlistItemsContainer = document.getElementById("wishlist-items");
    const wishlistCount = document.getElementById("wishlist-count");
    const categoryTabsContainer = document.getElementById("categoryTabs");

    // State
    let products = [];
    let cart = JSON.parse(localStorage.getItem("cart")) || {};
    let wishlist = JSON.parse(localStorage.getItem("wishlist")) || [];
    let currentCategory = "all";
    let uniqueCategories = [];
    let activeTab = null; // Track the active tab

    // Initialize
    fetchProducts();

    // Add event listeners
    cartBtn.addEventListener("click", openCart);
    closeCartBtn.addEventListener("click", closeCart);
    checkoutBtn.addEventListener("click", checkout);
    cartOverlay.addEventListener("click", closeCart);
    wishlistBtn.addEventListener("click", openWishlist);
    closeWishlistBtn.addEventListener("click", closeWishlist);
    wishlistOverlay.addEventListener("click", closeWishlist);
    
    // Search button functionality - Direct implementation
    searchBtn.addEventListener("click", function() {
        performSearch();
    });

    searchInput.addEventListener("keydown", function(e) {
        if (e.key === "Enter") {
            performSearch();
        }
    });

    // Dedicated search function to ensure consistent behavior
    function performSearch() {
        const searchTerm = searchInput.value.trim().toLowerCase();
        
        // Visual feedback
        searchBtn.classList.add('bg-blue-700');
        setTimeout(() => searchBtn.classList.remove('bg-blue-700'), 300);
        
        if (!searchTerm) {
            showFeedback('Please enter a search term', 'blue');
            return;
        }
        
        // Filter products based on search term
        const filtered = products.filter(product => 
            product.title.toLowerCase().includes(searchTerm) ||
            product.description.toLowerCase().includes(searchTerm) ||
            product.brand.toLowerCase().includes(searchTerm) ||
            product.category.toLowerCase().includes(searchTerm)
        );
        
        // Display results
        if (filtered.length === 0) {
            productsContainer.innerHTML = `
                <div class="col-span-full text-center py-10">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-gray-400 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                    <h3 class="text-lg font-medium text-gray-900">No results found</h3>
                    <p class="mt-1 text-gray-500">We couldn't find any products matching "${searchTerm}"</p>
                    <button onclick="clearSearch()" class="mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">
                        Clear Search
                    </button>
                </div>
            `;
            showFeedback(`No results found for "${searchTerm}"`, 'gray');
        } else {
            renderProducts(filtered);
            showFeedback(`Found ${filtered.length} results for "${searchTerm}"`, 'green');
            
            // Reset any active category tab styling
            document.querySelectorAll(".category-tab").forEach((tab) => {
                tab.classList.remove("bg-sky-600", "text-white");
                tab.classList.add("bg-slate-100", "hover:bg-sky-100");
                
                const svg = tab.querySelector("svg");
                const span = tab.querySelector("span");
                
                if (svg) {
                    svg.classList.remove("stroke-white");
                    svg.classList.add("stroke-blue-500");
                }
                
                if (span) {
                    span.classList.remove("text-white");
                    span.classList.add("text-neutral-800");
                }
            });
        }
    }

    // Filter button dropdown
    filterBtn.addEventListener("click", (e) => {
        e.stopPropagation();
        filterDropdown.classList.toggle("hidden");
        
        if (!filterDropdown.classList.contains("hidden")) {
            // Refresh categories when opening
            populateFilterDropdown();
        }
    });

    // Close filter dropdown when clicking outside
    document.addEventListener("click", (e) => {
        if (!filterBtn.contains(e.target) && !filterDropdown.contains(e.target)) {
            filterDropdown.classList.add("hidden");
        }
    });

    // Initialize counters
    updateCartCounter();
    updateWishlistCounter();
    renderCart();
    renderWishlist();

    // Fetch products from dummyjson
    async function fetchProducts() {
        try {
            const response = await fetch("https://dummyjson.com/products?limit=100");

            if (!response.ok) {
                throw new Error("Network response was not ok");
            }

            const data = await response.json();

            // Process products - add sale info for demo purposes
            products = data.products.map((product) => ({
                ...product,
                salepercentage: Math.floor(Math.random() * 30) + 10, // Random 10-40% off
                previousprice: (product.price * 1.3).toFixed(2), // Add 30% for "original" price
                discount: (product.price * 0.3).toFixed(2), // Calculate discount
            }));

            // Extract unique categories for filter dropdown and category tabs
            uniqueCategories = [...new Set(products.map(product => product.category))];
            populateFilterDropdown();
            populateCategoryTabs();
            
            // Set "All Products" tab as active by default
            const allTab = document.querySelector('.category-tab[data-category="all"]');
            if (allTab) {
                activeTab = allTab; // Set the active tab
                allTab.classList.add("bg-sky-600", "text-white");
                allTab.classList.remove("bg-slate-100", "hover:bg-sky-100");
                
                const span = allTab.querySelector("span");
                if (span) {
                    span.classList.add("text-white");
                    span.classList.remove("text-neutral-800");
                }
            }
            
            renderProducts();
        } catch (error) {
            console.error("Error fetching products:", error);
            productsContainer.innerHTML =
                '<p class="text-center text-gray-500">Error loading products. Please try again later.</p>';
        }
    }

    // Populate category tabs based on API data
    function populateCategoryTabs() {
        // Keep the "All Products" tab and add the rest dynamically
        const allProductsTab = categoryTabsContainer.querySelector('[data-category="all"]');
        categoryTabsContainer.innerHTML = '';
        categoryTabsContainer.appendChild(allProductsTab);
        
        // Add tabs for each unique category
        uniqueCategories.forEach(category => {
            const formattedCategory = category.charAt(0).toUpperCase() + category.slice(1).replace(/-/g, ' ');
            
            const tab = document.createElement('div');
            tab.className = 'category-tab px-3.5 py-2 bg-slate-100 hover:bg-sky-100 rounded-2xl flex items-center gap-1.5 shrink-0 cursor-pointer';
            tab.dataset.category = category;
            tab.innerHTML = `
                <span class="text-neutral-800 text-sm font-medium font-sans leading-none">${formattedCategory}</span>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                    class="w-5 h-5 stroke-blue-500 stroke-2">
                    <path d="M6 9l6 6 6-6" stroke-linecap="round" stroke-linejoin="round" />
                </svg>
            `;
            
            categoryTabsContainer.appendChild(tab);
            
            // Add event listener to the tab
            tab.addEventListener("click", () => {
                // Store the active tab
                activeTab = tab;
                
                // Reset styles for all tabs
                document.querySelectorAll(".category-tab").forEach((t) => {
                    t.classList.remove("bg-sky-600", "text-white");
                    t.classList.add("bg-slate-100", "hover:bg-sky-100");

                    const svg = t.querySelector("svg");
                    const span = t.querySelector("span");

                    if (svg) {
                        svg.classList.remove("stroke-white");
                        svg.classList.add("stroke-blue-500");
                    }

                    if (span) {
                        span.classList.remove("text-white");
                        span.classList.add("text-neutral-800");
                    }
                });

                // Apply active styles to the clicked tab
                tab.classList.add("bg-sky-600", "text-white");
                tab.classList.remove("bg-slate-100", "hover:bg-sky-100");

                const activeSvg = tab.querySelector("svg");
                const activeSpan = tab.querySelector("span");

                if (activeSvg) {
                    activeSvg.classList.add("stroke-white");
                    activeSvg.classList.remove("stroke-blue-500");
                }

                if (activeSpan) {
                    activeSpan.classList.add("text-white");
                    activeSpan.classList.remove("text-neutral-800");
                }

                // Filter products by category
                const category = tab.dataset.category;
                filterByCategory(category);
            });
        });
        
        // Add event listener to the "All Products" tab
        allProductsTab.addEventListener("click", () => {
            activeTab = allProductsTab;
            
            // Reset styles for all tabs
            document.querySelectorAll(".category-tab").forEach((t) => {
                t.classList.remove("bg-sky-600", "text-white");
                t.classList.add("bg-slate-100", "hover:bg-sky-100");

                const svg = t.querySelector("svg");
                const span = t.querySelector("span");

                if (svg) {
                    svg.classList.remove("stroke-white");
                    svg.classList.add("stroke-blue-500");
                }

                if (span) {
                    span.classList.remove("text-white");
                    span.classList.add("text-neutral-800");
                }
            });

            // Apply active styles to the clicked tab
            allProductsTab.classList.add("bg-sky-600", "text-white");
            allProductsTab.classList.remove("bg-slate-100", "hover:bg-sky-100");

            const activeSpan = allProductsTab.querySelector("span");
            if (activeSpan) {
                activeSpan.classList.add("text-white");
                activeSpan.classList.remove("text-neutral-800");
            }

            // Filter products by category
            filterByCategory("all");
        });
    }

    // Populate filter dropdown with categories
    function populateFilterDropdown() {
        let html = `
            <div class="px-4 py-2 text-sm text-gray-700 hover:bg-blue-100 cursor-pointer flex items-center" data-category="all">
                <span class="w-3 h-3 rounded-full ${currentCategory === "all" ? "bg-blue-500" : "bg-gray-200"} mr-2"></span>
                All Products
            </div>
        `;
        
        uniqueCategories.forEach(category => {
            const isActive = currentCategory === category;
            html += `
            <div class="px-4 py-2 text-sm text-gray-700 hover:bg-blue-100 cursor-pointer flex items-center" data-category="${category}">
                <span class="w-3 h-3 rounded-full ${isActive ? "bg-blue-500" : "bg-gray-200"} mr-2"></span>
                ${category.charAt(0).toUpperCase() + category.slice(1).replace(/-/g, ' ')}
            </div>
        `;
        });
        
        filterCategories.innerHTML = html;
        
        // Add event listeners to filter dropdown items
        const filterItems = filterCategories.querySelectorAll('div');
        filterItems.forEach(item => {
            item.addEventListener('click', () => {
                const category = item.dataset.category;
                filterDropdown.classList.add('hidden');
                
                // Update active tab in the category tabs
                const tabToActivate = document.querySelector(`.category-tab[data-category="${category}"]`);
                if (tabToActivate) {
                    tabToActivate.click();
                } else {
                    // If no matching tab, just filter by category
                    filterByCategory(category);
                    
                    // Update the active indicator in the dropdown
                    document.querySelectorAll('#filter-categories div').forEach(div => {
                        const dot = div.querySelector('span');
                        if (div.dataset.category === category) {
                            dot.classList.add('bg-blue-500');
                            dot.classList.remove('bg-gray-200');
                        } else {
                            dot.classList.remove('bg-blue-500');
                            dot.classList.add('bg-gray-200');
                        }
                    });
                }
            });
        });
    }

    // Render products grid
    function renderProducts(filteredProducts = null) {
        let productsToRender = filteredProducts || [...products];

        if (currentCategory !== "all") {
            productsToRender = productsToRender.filter(
                (product) =>
                    product.category.toLowerCase() === currentCategory.toLowerCase()
            );
        }

        if (!productsToRender.length) {
            productsContainer.innerHTML =
                '<p class="text-center text-gray-500">No products available</p>';
            return;
        }

        productsContainer.innerHTML = productsToRender
            .map((product) => {
                // Check if product is in wishlist
                const isInWishlist = wishlist.some(item => item.id === product.id);
                
                // Use the product's stock
                const stock = product.stock;
                const isOutOfStock = stock === 0;
                const discountPercentage = product.discountPercentage || 0;
                const discountedPrice = product.price
                    ? (product.price - product.price * (discountPercentage / 100)).toFixed(2)
                    : product.price;

                return `
                    <div class="relative bg-white rounded-lg border border-gray-200 shadow-md overflow-hidden hover:shadow-lg transition-shadow duration-300">
                        <div class="flex justify-center items-center h-48 p-4 bg-gray-100">
                            <img class="h-full object-contain" src="${
                                product.thumbnail
                            }" alt="${product.title}" loading="lazy" />
                        </div>

                        <div class="absolute top-0 right-0 bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-bl-lg">
                            ${product.salepercentage}% OFF
                        </div>

                        <div class="absolute top-0 left-0 text-xs font-semibold px-2 py-1 rounded-br-lg 
                                    ${
                                        isOutOfStock
                                            ? "bg-red-100 text-red-700"
                                            : "bg-green-100 text-green-700"
                                    }">
                            ${isOutOfStock ? "Out of Stock" : `${stock} in stock`}
                        </div>

                        <div class="p-4">
                            <h3 class="text-gray-800 font-semibold text-lg mb-2 line-clamp-2">${
                                product.title
                            }</h3>
                            
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-gray-900 font-bold text-lg">$${
                                    product.price
                                }</span>
                                <span class="text-gray-500 text-sm line-through">$${
                                    product.previousprice
                                }</span>
                            </div>

                            <div class="text-green-600 text-sm mb-4">Save $${
                                product.discount
                            }</div>
                            <div class="flex items-center mb-2">
                                ${renderRating(product.rating)}
                            </div>

                            <div class="flex gap-2">
                                ${
                                    isOutOfStock
                                        ? `<button 
                                            class="flex-1 flex items-center justify-center gap-2 bg-pink-100 text-pink-600 py-2 rounded-md border border-pink-300 hover:bg-pink-200 transition"
                                            onclick="addToWishlist(${product.id})"
                                        >
                                            <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6.42 3.42 5 5.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5 18.58 5 20 6.42 20 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/>
                                            </svg>
                                            Add to Wishlist
                                        </button>`
                                        : `<button 
                                            onclick="addToCart(${product.id})" 
                                            class="flex-1 bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md transition-colors duration-200"
                                        >
                                            Add to Cart
                                        </button>
                                        <button 
                                            onclick="addToWishlist(${product.id})" 
                                            class="w-10 h-10 flex items-center justify-center rounded-md border ${isInWishlist ? 'bg-pink-100 border-pink-300 text-pink-600' : 'bg-gray-100 border-gray-300 text-gray-600'} hover:bg-pink-100 hover:border-pink-300 hover:text-pink-600 transition-colors"
                                            title="${isInWishlist ? 'Remove from Wishlist' : 'Add to Wishlist'}"
                                        >
                                            <svg class="w-5 h-5 ${isInWishlist ? 'fill-current' : 'stroke-current fill-none'}" viewBox="0 0 24 24">
                                                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 6.42 3.42 5 5.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5 16.5 5 18.58 5 20 6.42 20 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" ${isInWishlist ? '' : 'stroke-width="2"'}/>
                                            </svg>
                                        </button>`
                                }
                            </div>
                        </div>
                    </div>
                `;
            })
            .join("");
    }

    // Helper function to render star ratings
    function renderRating(rating) {
        const fullStars = Math.floor(rating);
        const hasHalfStar = rating % 1 >= 0.5;
        const emptyStars = 5 - fullStars - (hasHalfStar ? 1 : 0);

        let stars = "";

        // Full stars
        for (let i = 0; i < fullStars; i++) {
            stars += `<svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>`;
        }

        // Half star
        if (hasHalfStar) {
            stars += `<svg class="w-4 h-4 text-yellow-400" fill="currentColor" viewBox="0 0 20 20"><defs><linearGradient id="half-star" x1="0" x2="100%" y1="0" y2="0"><stop offset="50%" stop-color="currentColor"/><stop offset="50%" stop-color="#D1D5DB"/></linearGradient></defs><path fill="url(#half-star)" d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>`;
        }

        // Empty stars
        for (let i = 0; i < emptyStars; i++) {
            stars += `<svg class="w-4 h-4 text-gray-300" fill="currentColor" viewBox="0 0 20 20"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/></svg>`;
        }

        return stars;
    }

    // Update cart counter
    function updateCartCounter() {
        const count = Object.values(cart).reduce(
            (sum, item) => sum + item.quantity,
            0
        );
        cartCount.textContent = count;
        cartCount.classList.toggle("hidden", count === 0);
    }

    // Add product to cart
    window.addToCart = function(productId) {
        const product = products.find(p => p.id === productId);
        
        // Check if product exists and has stock
        if (!product || product.stock <= 0) {
            showFeedback('Product is out of stock!', 'red');
            return;
        }

        // Add or update the item in the cart
        if (!cart[productId]) {
            cart[productId] = {
                id: product.id,
                title: product.title,
                price: product.price,
                image: product.thumbnail || product.images?.[0] || "",
                quantity: 1,
                stock: product.stock - 1 // Track remaining stock
            };
            // Decrease the product stock
            product.stock--;
        } else {
            // Check if adding more would exceed available stock
            if (product.stock <= 0) {
                showFeedback('No more stock available!', 'red');
                return;
            }
            
            cart[productId].quantity++;
            cart[productId].stock = product.stock - 1;
            // Decrease the product stock
            product.stock--;
        }

        saveCartToStorage();
        renderCart();
        updateCartCounter();
        
        // Re-render products to update stock display
        renderCurrentView();

        // Show feedback
        showFeedback('Item added to cart!', 'green');
    };

    // Remove product from cart
    window.removeFromCart = function(id) {
        // Restore stock to the product
        const product = products.find(p => p.id === parseInt(id));
        if (product) {
            product.stock += cart[id].quantity;
        }
        
        delete cart[id];
        saveCartToStorage();
        renderCart();
        updateCartCounter();
        
        // Re-render products to update stock display
        renderCurrentView();
    };

    // Change quantity in cart
    window.changeQuantity = function(id, qty) {
        const product = products.find(p => p.id === parseInt(id));
        const currentQty = cart[id].quantity;
        
        if (qty <= 0) {
            // Restore stock when removing item
            if (product) {
                product.stock += currentQty;
            }
            removeFromCart(id);
            return;
        }
        
        if (qty > currentQty) {
            // Increasing quantity - check stock
            if (product && product.stock <= 0) {
                showFeedback('No more stock available!', 'red');
                return;
            }
            
            // Decrease product stock
            if (product) {
                product.stock--;
            }
        } else if (qty < currentQty) {
            // Decreasing quantity - restore stock
            if (product) {
                product.stock += (currentQty - qty);
            }
        }
        
        cart[id].quantity = qty;
        saveCartToStorage();
        renderCart();
        updateCartCounter();
        
        // Re-render products to update stock display
        renderCurrentView();
    };

    // Calculate total price
    function calculateTotal() {
        return Object.values(cart).reduce(
            (sum, item) => sum + item.price * item.quantity,
            0
        );
    }

    // Render cart panel contents
    function renderCart() {
        const items = Object.values(cart);

        if (items.length === 0) {
            cartItemsContainer.innerHTML = `
                <div class="h-full flex flex-col items-center justify-center text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z" />
                    </svg>
                    <p class="text-lg">Your cart is empty</p>
                    <p class="text-sm mt-1">Start shopping to add items</p>
                </div>
            `;
            cartTotal.textContent = "$0.00";
            checkoutBtn.disabled = true;
            return;
        }

        cartItemsContainer.innerHTML = items
            .map(
                (item) => `
                <div class="flex items-center gap-4 py-4 border-b">
                    <img src="${item.image}" alt="${
                    item.title
                }" class="w-16 h-16 object-contain rounded" loading="lazy" />
                    <div class="flex-1">
                        <h4 class="font-medium text-gray-800 line-clamp-1">${
                            item.title
                        }</h4>
                        <p class="text-blue-600 font-bold">$${item.price.toFixed(2)}</p>
                        <div class="flex items-center mt-2 gap-2">
                            <button onclick="changeQuantity(${item.id}, ${
                    item.quantity - 1
                })" 
                                class="w-8 h-8 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded-full transition-colors">
                                -
                            </button>
                            <span class="w-8 text-center">${item.quantity}</span>
                            <button onclick="changeQuantity(${item.id}, ${
                    item.quantity + 1
                })" 
                                class="w-8 h-8 flex items-center justify-center bg-gray-200 hover:bg-gray-300 rounded-full transition-colors">
                                +
                            </button>
                        </div>
                    </div>
                    <button onclick="removeFromCart(${item.id})" 
                        class="text-gray-500 hover:text-red-500 transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            `
            )
            .join("");

        cartTotal.textContent = "$" + calculateTotal().toFixed(2);
        checkoutBtn.disabled = false;
    }

    // Cart visibility functions
    function openCart() {
        cartPanel.classList.remove("translate-x-full");
        cartOverlay.classList.remove("hidden");
        document.body.style.overflow = "hidden";
    }

    function closeCart() {
        cartPanel.classList.add("translate-x-full");
        cartOverlay.classList.add("hidden");
        document.body.style.overflow = "";
    }

    // Checkout button handler
    function checkout() {
        const items = Object.values(cart);
        if (items.length === 0) return;

        const total = calculateTotal().toFixed(2);
        const itemCount = items.reduce((sum, item) => sum + item.quantity, 0);

        // Create a nicer looking alert
        const alertDiv = document.createElement("div");
        alertDiv.className =
            "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4";
        alertDiv.innerHTML = `
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-pop-in">
                <div class="text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mx-auto text-green-500 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                    </svg>
                    <h3 class="text-xl font-bold text-gray-800 mb-2">Thank you for your purchase!</h3>
                    <p class="text-gray-600 mb-4">${itemCount} item(s) - Total: $${total}</p>
                    <p class="text-gray-600">Your order has been placed successfully.</p>
                </div>
                <div class="mt-6">
                    <button onclick="this.closest('div.fixed').remove()" 
                        class="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md transition-colors">
                        Continue Shopping
                    </button>
                </div>
            </div>
        `;

        document.body.appendChild(alertDiv);

        // Clear cart
        cart = {};
        saveCartToStorage();
        renderCart();
        closeCart();
        updateCartCounter();
    }

    // Wishlist Functions
    window.addToWishlist = function(productId) {
        const product = products.find(p => p.id === productId);
        if (!product) return;

        const index = wishlist.findIndex(item => item.id === productId);
        
        if (index === -1) {
            // Add to wishlist
            wishlist.push({
                id: product.id,
                title: product.title,
                price: product.price,
                image: product.thumbnail,
                rating: product.rating,
                category: product.category
            });
            showFeedback('Added to wishlist!', 'blue');
        } else {
            // Remove from wishlist
            wishlist.splice(index, 1);
            showFeedback('Removed from wishlist!', 'gray');
        }
        
        saveWishlistToStorage();
        updateWishlistCounter();
        
        // Update the current view without changing category
        renderCurrentView();
        
        renderWishlist();
    };

    // Function to render the current view without changing category
    function renderCurrentView() {
        renderProducts();
        
        // Restore active tab styling if needed
        if (activeTab) {
            // This ensures the active tab stays highlighted
            document.querySelectorAll(".category-tab").forEach(tab => {
                if (tab === activeTab) {
                    tab.classList.add("bg-sky-600", "text-white");
                    tab.classList.remove("bg-slate-100", "hover:bg-sky-100");
                    
                    const svg = tab.querySelector("svg");
                    const span = tab.querySelector("span");
                    
                    if (svg) {
                        svg.classList.add("stroke-white");
                        svg.classList.remove("stroke-blue-500");
                    }
                    
                    if (span) {
                        span.classList.add("text-white");
                        span.classList.remove("text-neutral-800");
                    }
                }
            });
        }
    }

    function updateWishlistCounter() {
        wishlistCount.textContent = wishlist.length;
        wishlistCount.classList.toggle("hidden", wishlist.length === 0);
    }

    function saveWishlistToStorage() {
        localStorage.setItem("wishlist", JSON.stringify(wishlist));
    }

    function renderWishlist() {
        if (!wishlist.length) {
            wishlistItemsContainer.innerHTML = `
                <div class="h-full flex flex-col items-center justify-center text-gray-500">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-16 w-16 mb-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
                    </svg>
                    <p class="text-lg">Your wishlist is empty</p>
                    <p class="text-sm mt-1">Save your favorite items here</p>
                </div>
            `;
            return;
        }

        wishlistItemsContainer.innerHTML = wishlist.map(item => `
            <div class="flex items-center gap-4 py-4 border-b">
                <img src="${item.image}" alt="${item.title}" class="w-16 h-16 object-contain rounded" loading="lazy" />
                <div class="flex-1">
                    <h4 class="font-medium text-gray-800 line-clamp-1">${item.title}</h4>
                    <p class="text-blue-600 font-bold">$${item.price.toFixed(2)}</p>
                    <div class="flex items-center mt-2 gap-2">
                        ${renderRating(item.rating)}
                    </div>
                </div>
                <div class="flex gap-2">
                    <button onclick="addToCart(${item.id})" 
                        class="p-2 text-blue-600 hover:bg-blue-50 rounded-full transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                        </svg>
                    </button>
                    <button onclick="addToWishlist(${item.id})" 
                        class="p-2 text-red-500 hover:bg-red-50 rounded-full transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            </div>
        `).join('');
    }

    function openWishlist() {
        wishlistPanel.classList.remove("translate-x-full");
        wishlistOverlay.classList.remove("hidden");
        document.body.style.overflow = "hidden";
    }

    function closeWishlist() {
        wishlistPanel.classList.add("translate-x-full");
        wishlistOverlay.classList.add("hidden");
        document.body.style.overflow = "";
    }

    // Storage functions
    function saveCartToStorage() {
        localStorage.setItem("cart", JSON.stringify(cart));
    }

    // Category filtering
    function filterByCategory(category) {
        currentCategory = category;
        renderProducts();
        
        // Update the filter dropdown indicators if it's open
        const filterItems = document.querySelectorAll('#filter-categories div');
        filterItems.forEach(item => {
            const dot = item.querySelector('span');
            if (item.dataset.category === category) {
                dot.classList.add('bg-blue-500');
                dot.classList.remove('bg-gray-200');
            } else {
                dot.classList.remove('bg-blue-500');
                dot.classList.add('bg-gray-200');
            }
        });
    }

    // Search function
    function handleSearch() {
        performSearch();
    }

// Clear search function
window.clearSearch = function() {
    searchInput.value = '';
    
    // Show feedback
    showFeedback('Search cleared', 'blue');
    
    // Restore products
    renderProducts();
    
    // Restore active tab if there was one
    if (activeTab) {
        activeTab.click();
    } else {
        // Default to "All Products" tab
        const allTab = document.querySelector('.category-tab[data-category="all"]');
        if (allTab) allTab.click();
    }
};

    // Show feedback message
    function showFeedback(message, color) {
        const feedback = document.createElement("div");
        feedback.className = `fixed bottom-4 right-4 bg-${color}-500 text-white px-4 py-2 rounded-md shadow-lg animate-fade-in`;
        feedback.textContent = message;
        document.body.appendChild(feedback);
        setTimeout(() => {
            feedback.classList.add("animate-fade-out");
            setTimeout(() => feedback.remove(), 300);
        }, 1700);
    }

    // Make functions available globally
    window.filterByCategory = filterByCategory;
    window.openWishlist = openWishlist;
    window.closeWishlist = closeWishlist;
    window.handleSearch = handleSearch;
});
</script>
</body></html>
